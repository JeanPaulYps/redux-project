(this["webpackJsonpredux-project"]=this["webpackJsonpredux-project"]||[]).push([[0],{35:function(e,t,n){},39:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var c=n(7),r=n(0),s=n(18),a=n.n(s),o=n(4),i=n(15),u=n(3),l=Object(c.c)({name:"users",initialState:{cargando:!0,usuarios:[],error:""},reducers:{downloadedUsers:function(e,t){e.cargando=!1,e.usuarios=t.payload},loadingError:function(e,t){e.cargando=!1,e.error=t.payload},ready:function(e){e.cargando=!1}}}),j=(n(35),n(1));function d(){return Object(j.jsxs)("div",{class:"lds-roller",children:[Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{})]})}function b(e){var t=e.usuarios;return Object(j.jsxs)("table",{children:[Object(j.jsxs)("thead",{children:[Object(j.jsx)("th",{children:" Nombre "}),Object(j.jsx)("th",{children:" Email "}),Object(j.jsx)("th",{children:" Website "})]}),t.map((function(e){return Object(j.jsxs)("tr",{children:[Object(j.jsxs)("td",{children:[" ",e.name," "]}),Object(j.jsxs)("td",{children:[" ",e.email," "]}),Object(j.jsxs)("td",{children:[" ",e.website," "]}),Object(j.jsx)("td",{children:Object(j.jsx)(i.b,{to:"/userPublications/".concat(e.id),children:Object(j.jsx)("img",{src:"/redux-project/blog.svg",alt:"",width:"20px"})})})]})}))]})}function O(e){var t=e.message;return Object(j.jsxs)("div",{children:[Object(j.jsx)("h2",{children:"Error"}),Object(j.jsxs)("p",{children:[" ",t," "]})]})}function h(){var e=Object(o.c)((function(e){return e.users.usuarios})),t=Object(o.c)((function(e){return e.users.cargando})),n=Object(o.c)((function(e){return e.users.error})),c=Object(o.b)();return Object(r.useEffect)((function(){setTimeout((function(){c(l.actions.ready())}),2e3),c((function(e){fetch("https://jsonplaceholder.typicode.com/users").then((function(t){if(!t.ok)throw new Error("We have problems loading the data. Please try later");console.log("Datos cargados"),t.json().then((function(t){console.log(t),e(l.actions.downloadedUsers(t))}))})).catch((function(t){console.log(t.message),e(l.actions.loadingError("We have problems loading the data. Please try later"))}))}))}),[c]),Object(j.jsxs)("div",{className:"UserTable",children:[t&&Object(j.jsx)(d,{}),n&&Object(j.jsx)(O,{message:n}),!t&&!n&&Object(j.jsx)(b,{usuarios:e})]})}n(39);var f,m,p=n(24),x=n(10),v=n(11),g=n.n(v),y=n(14),k=Object(c.b)("publications/getUserPublications",function(){var e=Object(y.a)(g.a.mark((function e(t,n){var c,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.rejectWithValue,e.prev=1,e.next=4,fetch("".concat("https://jsonplaceholder.typicode.com","/posts?userId=").concat(t)).then((function(e){if(!e.ok)throw new Error("Direccion no disponible");return e.json()}));case 4:return r=e.sent,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",c("We have problems loading the data. Please try later"));case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()),w=Object(c.c)({name:"Publications",initialState:{userPublications:[],loading:!0,error:""},reducers:{downloadedUserPublications:function(e,t){e.userPublications=t.payload},intializeLoading:function(e){e.userPublications=[],e.loading=!0,e.error=""}},extraReducers:(f={},Object(x.a)(f,k.fulfilled,(function(e,t){var n=t.payload;e.userPublications=n,e.loading=!1})),Object(x.a)(f,k.pending,(function(e){e.loading=!0,e.error=""})),Object(x.a)(f,k.rejected,(function(e,t){console.log(t),e.loading=!1,e.error=t.payload})),f)}),C=(n(41),Object(c.b)("comments/getComments",function(){var e=Object(y.a)(g.a.mark((function e(t,n){var c,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.rejectWithValue,e.prev=1,e.next=4,fetch("".concat("https://jsonplaceholder.typicode.com","/comments?postId=").concat(t)).then((function(e){if(!e.ok)throw new Error("Direccion no disponible");return e.json()}));case 4:return r=e.sent,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",c("We have problems loading the data. Please try later"));case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}())),_=Object(c.c)({name:"comments",initialState:{publicationComments:[],loading:!0,error:""},reducers:{intializeLoading:function(e){e.publicationComments=[],e.loading=!0,e.error=""}},extraReducers:(m={},Object(x.a)(m,C.fulfilled,(function(e,t){var n=t.payload;e.publicationComments=n,e.loading=!1})),Object(x.a)(m,C.pending,(function(e){e.loading=!0,e.error=""})),Object(x.a)(m,C.rejected,(function(e){e.error="Error los datos no estan disponibles",e.loading=!1})),m)}),I=function(e){var t=e.setCommentsVisibility,n=e.publicationId,c=Object(o.b)();Object(r.useEffect)((function(){c(C(n))}),[c,n]);var s=Object(o.c)((function(e){return e.comments.publicationComments})),a=Object(o.c)((function(e){return e.comments.loading})),i=Object(o.c)((function(e){return e.comments.error}));return Object(j.jsx)("div",{className:"Comments__Modal",children:Object(j.jsxs)("div",{className:"Comments__Card",children:[Object(j.jsx)("img",{className:"Comments__CloseButton",src:"/closeButton.svg",alt:"",onClick:function(){return t(!1)}}),Object(j.jsxs)("div",{className:"Comments__Container",children:[a&&Object(j.jsx)(d,{}),!a&&s.map((function(e){return Object(j.jsxs)("div",{className:"Comment",children:[Object(j.jsxs)("p",{className:"Comment__UserName",children:[" ",e.email," "]}),Object(j.jsx)("p",{ClassName:"Comment__Comment",children:e.body}),Object(j.jsx)("hr",{})]})})),i&&Object(j.jsx)(O,{message:i})]})]})})};function P(e){var t=Object(o.b)(),n=Object(u.f)().userId,c=Object(o.c)((function(e){return e.publications.userPublications})),s=Object(o.c)((function(e){return e.publications.loading})),a=Object(o.c)((function(e){return e.publications.error})),i=Object(r.useState)(!1),l=Object(p.a)(i,2),b=l[0],h=l[1],f=Object(r.useState)(0),m=Object(p.a)(f,2),x=m[0],v=m[1];Object(r.useEffect)((function(){t(w.actions.intializeLoading()),setTimeout((function(){return t(k(n))}),1e3)}),[t,n]);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h1",{children:" Publications "}),Object(j.jsxs)("div",{children:[s&&Object(j.jsx)(d,{}),!s&&c.map((function(e){return Object(j.jsxs)("div",{onClick:(t=e.id,function(){v(t),h(!0)}),children:[Object(j.jsxs)("h2",{children:[" ",e.title," "]}),Object(j.jsxs)("p",{children:[" ",e.body," "]}),Object(j.jsx)("hr",{})]},e.id);var t})),a&&Object(j.jsx)(O,{message:a}),b&&Object(j.jsx)(I,{setCommentsVisibility:h,publicationId:x})]})]})}var E,N=n(26),U=n(27),W=n(23),B=["userId"],S="https://jsonplaceholder.typicode.com",T=Object(c.b)("tasks/getTasks",function(){var e=Object(y.a)(g.a.mark((function e(t,n){var c,r,s,a,o,i,u,l,j,d,b,O,h,f;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.rejectWithValue,e.prev=1,e.next=4,fetch("".concat(S,"/users")).then((function(e){if(!e.ok)throw new Error("Recurso no disponible");return e.json()}));case 4:r=e.sent,s={},a=Object(W.a)(r);try{for(a.s();!(o=a.n()).done;)i=o.value,u=i.id,l=i.name,s[u]={name:l,tasks:[]}}catch(t){a.e(t)}finally{a.f()}return e.next=10,fetch("".concat(S,"/todos")).then((function(e){if(!e.ok)throw new Error("Recurso no disponible");return e.json()}));case 10:j=e.sent,d=Object(W.a)(j);try{for(d.s();!(b=d.n()).done;)O=b.value,h=O.userId,f=Object(U.a)(O,B),s[h].tasks=[].concat(Object(N.a)(s[h].tasks),[f])}catch(t){d.e(t)}finally{d.f()}return e.abrupt("return",s);case 16:e.prev=16,e.t0=e.catch(1),console.log(e.t0),c("We have problems loading the data. Please try later");case 20:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t,n){return e.apply(this,arguments)}}()),H=Object(c.c)({name:"tasks",initialState:{tasksByUserId:{},loading:!0,error:""},reducers:{intializeState:function(e){e.tasksByUserId={},e.loading=!1,e.error=""}},extraReducers:(E={},Object(x.a)(E,T.fulfilled,(function(e,t){var n=t.payload;e.tasksByUserId=n,e.loading=!1})),Object(x.a)(E,T.pending,(function(e){e.loading=!0,e.error="",e.taskByUserId={}})),Object(x.a)(E,T.rejected,(function(e,t){var n=t.payload;e.loading=!1,e.error=n})),E)});function L(e){var t=e.task,n=t.title,c=t.completed,r=e.key;return Object(j.jsxs)("div",{children:[Object(j.jsx)("input",{type:"checkbox",checked:c}),Object(j.jsxs)("p",{children:[" ",n," "]})]},r)}function R(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.tasks.tasksByUserId})),n=Object(o.c)((function(e){return e.tasks.loading}));return Object(r.useEffect)((function(){e(T())}),[e]),Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:" Tareas "}),n&&Object(j.jsx)(d,{}),!n&&Object.keys(t).map((function(e){return Object(j.jsxs)("div",{children:[Object(j.jsxs)("h1",{children:[" ",t[e].name]}),Object(j.jsx)("div",{children:t[e].tasks.map((function(t){return Object(j.jsx)(L,{task:t},e)}))}),Object(j.jsx)("hr",{})]})}))]})}function V(){return Object(j.jsxs)(i.a,{children:[Object(j.jsx)("header",{className:"Header",children:Object(j.jsxs)("ul",{children:[Object(j.jsx)("li",{className:"Header__Item",children:Object(j.jsx)(i.b,{to:"/",className:"Header__Link",children:"Users "})}),Object(j.jsx)("li",{className:"Header__Item",children:Object(j.jsx)(i.b,{to:"/tasks",className:"Header__Link",children:"Tasks "})})]})}),Object(j.jsxs)(u.c,{children:[Object(j.jsx)(u.a,{exact:!0,path:"/",children:Object(j.jsx)(h,{})}),Object(j.jsx)(u.a,{path:"/userPublications/:userId",children:Object(j.jsx)(P,{})}),Object(j.jsx)(u.a,{path:"/tasks",children:Object(j.jsx)(R,{})})]})]})}var z=Object(c.a)({reducer:{users:l.reducer,publications:w.reducer,comments:_.reducer,tasks:H.reducer}});a.a.render(Object(j.jsx)(o.a,{store:z,children:Object(j.jsx)(V,{})}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.71e27157.chunk.js.map